<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Painel Mestre - Cadastro SaaS</title>
    <style>
        body { font-family: sans-serif; background: #eee; padding: 20px; }
        .box { background: white; padding: 20px; max-width: 500px; margin: auto; border-radius: 10px; }
        input { width: 100%; padding: 10px; margin: 5px 0; box-sizing: border-box; }
        button { width: 100%; padding: 15px; background: #27ae60; color: white; border: none; cursor: pointer; }
    </style>
</head>
<body>
    <div class="box">
        <h2>Cadastrar Restaurante</h2>
        <input type="text" id="id" placeholder="ID da Loja (ex: snoop_lanche)">
        <input type="text" id="nome" placeholder="Nome Fantasia">
        <input type="text" id="zap" placeholder="WhatsApp (55...)">
        <input type="text" id="rua" placeholder="Endereço (Rua, Número, Bairro)">
        <input type="text" id="lat" placeholder="Latitude (ex: -26.46)">
        <input type="text" id="lon" placeholder="Longitude (ex: -49.02)">
        <input type="text" id="valorKm" placeholder="Valor por KM de Frete (ex: 1.50)">
        <input type="text" id="senha" placeholder="Senha do Dono">
        <button onclick="criar()">CRIAR SISTEMA AGORA</button>
    </div>

    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>
    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyCXA1yP1F-riNkzOX5zJs5gsQ82EzsT7Qg",
            authDomain: "myproject26-10f0e.firebaseapp.com",
            databaseURL: "https://myproject26-10f0e-default-rtdb.firebaseio.com",
            projectId: "myproject26-10f0e",
            storageBucket: "myproject26-10f0e.firebasestorage.app",
            messagingSenderId: "884850608032",
            appId: "1:884850608032:web:79db6983346c3c20edc6c5"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        async function criar() {
            const id = document.getElementById('id').value;
            const dados = {
                config: {
                    nomeLoja: document.getElementById('nome').value,
                    whatsapp: document.getElementById('zap').value,
                    rua: document.getElementById('rua').value,
                    lat: document.getElementById('lat').value,
                    lon: document.getElementById('lon').value,
                    valorKm: parseFloat(document.getElementById('valorKm').value),
                    senhaAdmin: document.getElementById('senha').value,
                    logo: "https://via.placeholder.com/150"
                },
                produtos: [{title: "Produto Exemplo", ingredientes: "Descrição", price: 10.00, image: "https://via.placeholder.com/100"}]
            };
            await db.ref(`lojas/${id}`).set(dados);
            alert("Criado! Link: https://mydii.netlify.app/?loja=" + id);
        }
    </script>
</body>
</html>
